import { Canvas, Source } from '@storybook/addon-docs';

# BaseTextarea

Базовый элемент области ввода многострочных текстов, представленный тэгом `<base-textarea>`.

## Свойства

| Название    | Описание                                                                                                                                                                                          | Значение                                                                     |
|-------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|
| validation  | Функция валидации значения                                                                                                                                                                        | Функция                                                                      |
| value       | Значение внутри поля ввода                                                                                                                                                                        | В соответствии с типами                                                      |
| invalid     | Является ли значение поля ввода валидным.                                                                                                                                                         | Логическое                                                                   |
| placeholder | Текст отображаемый в пустом поле ввода в роли подсказки.                                                                                                                                          | Строка                                                                       |
| type        | Тип вводимых данных. Влияет на визуализацию.                                                                                                                                                      | Строка, в соответствии со спецификацией                                      |
| disabled    | Флаг обозначающий возможность ввода значения в поле.                                                                                                                                              | Логическое                                                                   |
| label       | Текст который будет отображаться маленьким шрифтом над основным полем ввода.                                                                                                                      | Строка                                                                       |
| size        | Задает размер элемента.                                                                                                                                                                           | 'small' \| 'big'                                                             |
| required    | Флаг, обязательность значения у компонента. Если значения нет и флаг true, то свойство invalid будет тоже равно true, компонент будет подсвечен красным, а внизу будет отображаться текст ошибки. | Логическое                                                                   |
| theme       | Варианты отображения поля.                                                                                                                                                                        | Массив с названиями тем: ['withError' \| 'withSuccessFill' \| 'resize_off']. |
| rows        | Количество строк.                                                                                                                                                                                 | Число                                                                        |
| autoheight  | Автоматическое увеличение высоты вместо прокрутки в зависимости от количества текста. Если установлено значение `rows`, то оно установит минимальную высоту.                                      | Логическое                                                                   |
| maxlength   | Ограничение длины текста в поле ввода                                                                                                                                                             | Строка                                                                       |

## Атрибуты

| Название        | Описание                                                                                                                                                     | Значение                                                                      |
|-----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------|
| theme           | Варианты отображения кнопки                                                                                                                                  | Название тем через запятую: 'withError' \| 'withSuccessFill' \| 'resize_off'. |
| data-autoheight | Автоматическое увеличение высоты вместо прокрутки в зависимости от количества текста. Если установлено значение `rows`, то оно установит минимальную высоту. | Логическое |

## События

| Название | Описание                              |
|----------|---------------------------------------|
| input    | Событие ввода данных внутри поля.     |
| change   | Событие изменения данных внутри поля. |

## Слоты

| Имя события | Описание                     |
|-------------|------------------------------|
| label       | Аналогично свойству `label`. |

## Примеры

Размер поля изменяется с помощью атрибута `size`. Если задано неподдерживаемое значение, то размер кнопки останется средним:

<Canvas>
  <base-textarea size="small" placeholder="size_small"></base-textarea>
  <base-textarea placeholder="default size"></base-textarea>
  <base-textarea size="unsupported" placeholder="default size"></base-textarea>
  <base-textarea size="big" placeholder="size_big"></base-textarea>
</Canvas>

<Source
language='html'
format={true}
dark
code={`
<base-textarea size="small"></base-textarea>
<base-textarea></base-textarea>
<base-textarea size="unsupported"></base-textarea>
<base-textarea size="big"></base-textarea>
`}
/>

Выключить поле ввода можно с помощью атрибута disabled:

<Canvas>
  <base-textarea disabled="true"></base-textarea>
</Canvas>

<Source
language='html'
format={true}
dark
code={`
<base-textarea disabled="true"></base-textarea>
`}
/>

Заголовок элемента задается с помощью атрибута label, а заполняющий текст - с помощью атрибута placeholder. Заполняющий текст показывается только в том случае, если в область ничего не введено, то есть свойство value содержит пустую строку:

<Canvas>
  <base-textarea label="Title" placeholder="Placeholder"></base-textarea>
</Canvas>

<Source
language='html'
format={true}
dark
code={`
<base-textarea label="Title" placeholder="Placeholder"></base-textarea>
`}
/>

Заголовок элемента можно задать с помощью слота `label`:

<Canvas>
  <base-textarea placeholder="Placeholder">
    <span slot="label">Label slot</span>
  </base-textarea>
</Canvas>

<Source
language='html'
format={true}
dark
code={`
<base-textarea placeholder="Placeholder">
  <span slot="label">Label slot</span>
</base-textarea>
`}
/>

Поле с ошибкой:

<Canvas>
  <base-textarea label="Title" invalid="true"></base-textarea>
</Canvas>

<Source
language='html'
format={true}
dark
code={`
<base-textarea label="Title" invalid="true"></base-textarea>
`}
/>

Поле с успешным вводом:

<Canvas>
  <base-textarea label="Title" theme="withSuccessFill"></base-textarea>
</Canvas>

<Source
language='html'
format={true}
dark
code={`
<base-textarea label="Title" theme="withSuccessFill"></base-textarea>
`}
/>

Высота поля адаптируется в зависимости от текста с помощью атрибута `data-autoheight` (свойство `autoheight`):

<Canvas>
  <base-textarea data-autoheight label="Без текста и со стандартным rows"></base-textarea>
  <base-textarea data-autoheight label="С текстом и без rows" rows="0" value="Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate accusantium nobis ipsa sapiente laboriosam deserunt rem. Impedit distinctio est ut nulla voluptatem aspernatur libero temporibus, beatae necessitatibus commodi dignissimos veniam!"></base-textarea>
  <base-textarea data-autoheight label="С текстом и с rows" title="С текстом и с rows" rows="5" value="Lorem ipsum dolor sit amet consectetur adipisicing elit."></base-textarea>
</Canvas>

<Source
language='html'
format={true}
dark
code={`
<base-textarea data-autoheight label="Без текста и со стандартным rows"></base-textarea>
<base-textarea data-autoheight label="С текстом и без rows" rows="0" value="Lorem ipsum dolor..."></base-textarea>
<base-textarea data-autoheight label="С текстом и с rows" rows="5" value="Lorem ipsum dolor..."></base-textarea>
`}
/>

Ограничить длину текста в поле ввода можно с помощью атрибута maxlength:

<Canvas>
  <base-textarea maxlength="5"></base-textarea>
</Canvas>

<Source
language='html'
format={true}
dark
code={`
<base-textarea maxlength="5"></base-textarea>
`}
/>